logging:
  version: 1
  disable_existing_loggers: false
  
  formatters:
    standard:
      format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
      
    json:
      class: "pythonjsonlogger.jsonlogger.JsonFormatter"
      format: "%(timestamp)s %(level)s %(name)s %(message)s %(request_id)s"
  
  handlers:
    console:
      class: "logging.StreamHandler"
      level: "DEBUG"
      formatter: "standard"
      stream: "ext://sys.stdout"
      
    file:
      class: "logging.handlers.RotatingFileHandler"
      level: "INFO"
      formatter: "json"
      filename: "./logs/app.log"
      maxBytes: 10485760  # 10MB
      backupCount: 5
      
    error_file:
      class: "logging.handlers.RotatingFileHandler"
      level: "ERROR"
      formatter: "json"
      filename: "./logs/errors.log"
      maxBytes: 10485760
      backupCount: 5

  loggers:
    personalized_news:
      level: "INFO"
      handlers: ["console", "file"]
      propagate: false
      
    sqlalchemy:
      level: "WARNING"
      handlers: ["console"]
      propagate: false
      
    langgraph:
      level: "INFO"
      handlers: ["console"]
      propagate: false

  root:
    level: "INFO"
    handlers: ["console", "file", "error_file"]
